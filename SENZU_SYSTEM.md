# ğŸŒ± Há»† THá»NG CÃ‚Y Äáº¬U THáº¦N (SENZU BEAN SYSTEM)

## ğŸ“‹ Tá»•ng quan

Má»—i nhÃ¢n váº­t sá»Ÿ há»¯u **1 cÃ¢y Ä‘áº­u tháº§n táº¡i nhÃ ** cá»§a hÃ nh tinh chá»§ng tá»™c mÃ¬nh. CÃ¢y cÃ³ thá»ƒ **nÃ¢ng cáº¥p tá»« cáº¥p 1 â†’ 10**, má»—i cáº¥p sáº½:
- â±ï¸ Giáº£m thá»i gian sáº£n xuáº¥t
- ğŸŒ± TÄƒng sá»‘ lÆ°á»£ng Ä‘áº­u thu hoáº¡ch
- ğŸ’š TÄƒng hiá»‡u quáº£ há»“i phá»¥c HP/KI

## ğŸ  Vá»‹ trÃ­ ban Ä‘áº§u theo chá»§ng tá»™c

| Chá»§ng tá»™c | Vá»‹ trÃ­ nhÃ  |
|-----------|------------|
| ğŸŒ TrÃ¡i Äáº¥t | **NhÃ  Kame** |
| ğŸŸ¢ Namek | **LÃ ng Moori** |
| âš¡ Saiyan | **HÃ nh Tinh Vegeta** |

## ğŸ“Š Báº£ng nÃ¢ng cáº¥p (10 cáº¥p Ä‘á»™)

| Cáº¥p | GiÃ¡ nÃ¢ng cáº¥p | Thá»i gian | Äáº­u/láº§n | HP há»“i | KI há»“i | YÃªu cáº§u Lv |
|-----|--------------|-----------|---------|--------|--------|------------|
| 1 | FREE | 60 phÃºt | 1 | 50 | 50 | 1 |
| 2 | 5,000 | 50 phÃºt | 2 | 75 | 75 | 5 |
| 3 | 15,000 | 45 phÃºt | 2 | 100 | 100 | 8 |
| 4 | 30,000 | 40 phÃºt | 3 | 150 | 150 | 12 |
| 5 | 60,000 | 35 phÃºt | 3 | 200 | 200 | 15 |
| 6 | 120,000 | 30 phÃºt | 4 | 300 | 300 | 20 |
| 7 | 250,000 | 25 phÃºt | 4 | 400 | 400 | 25 |
| 8 | 500,000 | 20 phÃºt | 5 | 500 | 500 | 30 |
| 9 | 1,000,000 | 15 phÃºt | 5 | 750 | 750 | 40 |
| 10 | 2,000,000 | 10 phÃºt | 6 | 1000 | 1000 | 50 |

**Tá»•ng chi phÃ­ nÃ¢ng cáº¥p full:** 3,980,000 vÃ ng

## ğŸ® Lá»‡nh Commands

### 1. `/senzu` hoáº·c `zsenzu`
Xem thÃ´ng tin cÃ¢y Ä‘áº­u tháº§n:
- Cáº¥p Ä‘á»™ hiá»‡n táº¡i
- Sá»‘ Ä‘áº­u trong kho
- Thá»i gian sáº£n xuáº¥t
- ThÃ´ng tin nÃ¢ng cáº¥p

### 2. `/senzu harvest` hoáº·c `zsenzu harvest`
Thu hoáº¡ch Ä‘áº­u tháº§n (khi Ä‘Ã£ Ä‘áº¿n thá»i gian)

### 3. `/senzu upgrade` hoáº·c `zsenzu upgrade`  
NÃ¢ng cáº¥p cÃ¢y Ä‘áº­u tháº§n (cáº§n Ä‘á»§ vÃ ng + level)

### 4. `/senzu use <sá»‘ lÆ°á»£ng>` hoáº·c `zsenzu use <sá»‘ lÆ°á»£ng>`
Sá»­ dá»¥ng Ä‘áº­u tháº§n Ä‘á»ƒ há»“i HP/KI

## ğŸ”„ Workflow

```
1. Táº¡o nhÃ¢n váº­t â†’ Nháº­n cÃ¢y Ä‘áº­u tháº§n cáº¥p 1
2. Äá»£i 60 phÃºt â†’ Thu hoáº¡ch 1 Ä‘áº­u
3. LÃªn level 5 + kiáº¿m 5K vÃ ng â†’ NÃ¢ng cáº¥p lÃªn cáº¥p 2
4. Äá»£i 50 phÃºt â†’ Thu hoáº¡ch 2 Ä‘áº­u
5. Láº·p láº¡i cho Ä‘áº¿n cáº¥p 10
```

## âš¡ Æ¯u Ä‘iá»ƒm so vá»›i há»‡ thá»‘ng cÅ©

### âŒ CÅ©: Äáº­u tháº§n drop tá»« Boss
- Drop rate tháº¥p, RNG
- Boss khÃ³ Ä‘Ã¡nh
- Pháº£i farm nhiá»u

### âœ… Má»›i: CÃ¢y Ä‘áº­u tháº§n táº¡i nhÃ 
- **Passive income** - khÃ´ng cáº§n farm
- **Upgrade progression** - má»¥c tiÃªu dÃ i háº¡n
- **Gold sink** - tiÃªu vÃ ng hiá»‡u quáº£
- **Predictable** - biáº¿t chÃ­nh xÃ¡c bao giá» cÃ³ Ä‘áº­u

## ğŸ’¡ Chiáº¿n lÆ°á»£c

### Early Game (Lv 1-10)
- Thu hoáº¡ch Ä‘á»u Ä‘áº·n má»—i 60 phÃºt
- Tiáº¿t kiá»‡m vÃ ng Ä‘á»ƒ nÃ¢ng lÃªn cáº¥p 2-3

### Mid Game (Lv 10-25)
- NÃ¢ng cáº¥p lÃªn cáº¥p 4-6
- Äáº­u tháº§n giÃºp farm boss dá»… hÆ¡n

### Late Game (Lv 25+)
- NÃ¢ng full cáº¥p 10
- Thu hoáº¡ch 6 Ä‘áº­u má»—i 10 phÃºt
- Äáº­u cáº¥p 10 há»“i 1000 HP/KI - ráº¥t máº¡nh!

## ğŸ“ˆ ROI (Return on Investment)

**Cáº¥p 2:**
- Chi phÃ­: 5,000 vÃ ng
- Lá»£i Ã­ch: +1 Ä‘áº­u/láº§n, -10 phÃºt
- Break even: ~10 láº§n thu hoáº¡ch (~8.3 giá»)

**Cáº¥p 10:**
- Chi phÃ­: 3,980,000 vÃ ng
- Lá»£i Ã­ch: 6 Ä‘áº­u/10 phÃºt = 36 Ä‘áº­u/giá»
- Value: 36 * 1000 HP/KI = 36,000 HP/KI restore/giá»
- Equivalent to 72 "Thuá»‘c há»“i HP/KI siÃªu lá»›n" (200 gold each) = 14,400 gold/giá»
- Break even: ~277 giá» hoáº·c ~11.5 ngÃ y active play

## ğŸ—„ï¸ Database Schema

```sql
-- Cá»™t má»›i trong characters table
senzu_level INTEGER DEFAULT 1           -- Cáº¥p Ä‘á»™ cÃ¢y (1-10)
senzu_beans INTEGER DEFAULT 0           -- Sá»‘ Ä‘áº­u trong kho
senzu_last_harvest TIMESTAMP            -- Láº§n cuá»‘i thu hoáº¡ch

-- Báº£ng config má»›i
senzu_upgrade_config (
  level, 
  upgrade_cost, 
  production_time, 
  beans_per_harvest,
  bean_hp_restore,
  bean_ki_restore,
  required_character_level
)
```

## ğŸ”§ Migration

Cháº¡y file `database/senzu_system.sql` Ä‘á»ƒ:
1. ThÃªm 3 cá»™t má»›i vÃ o `characters`
2. Cáº­p nháº­t location theo chá»§ng tá»™c
3. XÃ³a Ä‘áº­u tháº§n khá»i monster drops
4. Táº¡o báº£ng `senzu_upgrade_config`
5. Insert 10 cáº¥p Ä‘á»™ config

## âœ… Implementation Checklist

- [x] Database migration script
- [x] Update init.sql vá»›i cá»™t má»›i
- [x] SenzuService vá»›i 5 methods:
  - `getSenzuConfig(level)`
  - `canHarvest(characterId)`
  - `harvest(characterId)`
  - `upgrade(characterId)`
  - `useSenzu(characterId, quantity)`
  - `getSenzuInfo(characterId)`
- [x] Update CharacterService.create() - set location theo race
- [ ] Create `/senzu` slash command
- [ ] Create `zsenzu` prefix command
- [ ] Update types/index.ts vá»›i senzu fields
- [ ] Update help command vá»›i senzu info
- [ ] Test migration
- [ ] Test commands

